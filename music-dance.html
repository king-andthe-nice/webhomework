<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国传统音乐与舞蹈</title>
    <!-- 链接CSS文件 -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/music-dance.css">
    <!-- 引入字体图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="nav">
        <ul>
            <li><a href="buildings.html">建筑艺术</a></li>
            <li><a href="music-dance.html">音乐舞蹈</a></li>
            <li><a href="calligraphy.html">文字与书法</a></li>
            <li><a href="crafts.html">工艺与器物</a></li>
        </ul>
    </nav>

    <!-- 顶部横幅 -->
    <div class="banner">
        <h1>中国传统音乐与舞蹈</h1>
        <p>跨越千年的韵律与舞步，传承中华文化精髓，感受艺术之美</p>
    </div>

    <main>
        <!-- 音乐舞蹈简介 - 使用Flex布局 -->
        <section class="intro-section container">
            <h2>中国传统音乐舞蹈简介</h2>
            <div class="intro-content">
                <div class="intro-text">
                    <p>中国传统音乐与舞蹈源远流长，有着数千年的历史，是中华民族文化宝库中的瑰宝。传统音乐以五声音阶为基础，形成了独具特色的音乐体系，强调音乐与自然和谐共生。传统舞蹈则通过肢体动作、表情传达情感，展现了中国人的精神世界与审美情趣。</p>
                    <p>中国传统音乐按照地域划分可分为北方音乐、江南丝竹、广东音乐等；按照用途可分为宫廷音乐、民间音乐、宗教音乐等。传统舞蹈则有宫廷舞蹈、民间舞蹈、戏曲舞蹈等多种类型，每种舞蹈都具有鲜明的地域特色和文化内涵。</p>
                </div>
                <div class="intro-image">
                    <!-- 待替换图片：中国传统音乐舞蹈表演场景 -->
                    <img src="images/music-dance-intro.jpg" alt="中国传统音乐舞蹈表演">
                </div>
            </div>
        </section>

        <!-- 传统乐器展示 - 使用水平滚动条 -->
        <section class="instruments-section">
            <div class="container">
                <h2>传统乐器欣赏</h2>
                <p>中国传统乐器种类繁多，按照材质和发声原理可分为丝、竹、金、石、土、革、木、匏八类，下面为您展示其中几种具有代表性的乐器。</p>
                
                <div class="instrument-cards">
                    <!-- 乐器1：古琴 -->
                    <div class="instrument-card">
                        <!-- 待替换图片：古琴 -->
                        <img src="images/guqin.jpg" alt="古琴">
                        <div class="instrument-info">
                            <h3>古琴</h3>
                            <p>中国最古老的弹拨乐器之一，有"静、远、清、幽"的特点，被称为"圣人之器"。</p>
                            <button class="sound-btn" data-sound="guqin">
                                <i class="fas fa-play"></i> 聆听声音
                            </button>
                                    <!-- 添加音频标签，路径需与实际文件匹配 -->
                            <audio class="instrument-audio" data-sound="guqin" src="audio/guqin.mp3"></audio>
                        </div>
                    </div>
                    
                    <!-- 乐器2：古筝 -->
                    <div class="instrument-card">
                        <!-- 待替换图片：古筝 -->
                        <img src="images/guzheng.jpg" alt="古筝">
                        <div class="instrument-info">
                            <h3>古筝</h3>
                            <p>汉族传统弹拨乐器，有"筝王"之称，音色优美，表现力丰富。</p>
                            <button class="sound-btn" data-sound="guzheng">
                                <i class="fas fa-play"></i> 聆听声音
                            </button>
                            <!-- 添加音频标签，路径需与实际文件匹配 -->
                            <audio class="instrument-audio" data-sound="guzheng" src="audio/guzheng.mp3"></audio>
                        </div>
                    </div>
                    
                    <!-- 乐器3：二胡 -->
                    <div class="instrument-card">
                        <!-- 待替换图片：二胡 -->
                        <img src="images/erhu.jpg" alt="二胡">
                        <div class="instrument-info">
                            <h3>二胡</h3>
                            <p>中国传统拉弦乐器，被称为"中国提琴"，音色哀婉细腻，极具表现力。</p>
                            <button class="sound-btn" data-sound="erhu">
                                <i class="fas fa-play"></i> 聆听声音
                            </button>
                            <!-- 添加音频标签，路径需与实际文件匹配 -->
                            <audio class="instrument-audio" data-sound="erhu" src="audio/erhu.mp3"></audio>
                        </div>
                    </div>
                    
                    <!-- 乐器4：笛子 -->
                    <div class="instrument-card">
                        <!-- 待替换图片：笛子 -->
                        <img src="images/dizi.jpg" alt="笛子">
                        <div class="instrument-info">
                            <h3>笛子</h3>
                            <p>中国传统横吹竹管乐器，音色清脆明亮，可表现欢快和悲凉的情绪。</p>
                            <button class="sound-btn" data-sound="dizi">
                                <i class="fas fa-play"></i> 聆听声音
                            </button>
                            <!-- 添加音频标签，路径需与实际文件匹配 -->
                            <audio class="instrument-audio" data-sound="dizi" src="audio/dizi.mp3"></audio>
                        </div>
                    </div>
                    
                    <!-- 乐器5：琵琶 -->
                    <div class="instrument-card">
                        <!-- 待替换图片：琵琶 -->
                        <img src="images/pipa.jpg" alt="琵琶">
                        <div class="instrument-info">
                            <h3>琵琶</h3>
                            <p>中国传统弹拨乐器，有"弹拨乐器之王"的美誉，技巧丰富多变。</p>
                            <button class="sound-btn" data-sound="pipa">
                                <i class="fas fa-play"></i> 聆听声音
                            </button>
                            <!-- 添加音频标签，路径需与实际文件匹配 -->
                            <audio class="instrument-audio" data-sound="pipa" src="audio/pipa.mp3"></audio>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 舞蹈类型展示 - 使用Grid布局 -->
        <section class="dance-types-section">
            <div class="container">
            <h2>传统舞蹈欣赏</h2>
            <p>中国传统舞蹈有着悠久的历史，不同民族、不同地区都有其独特的舞蹈形式，下面介绍几种代表性的传统舞蹈。</p>
            
            <div class="dance-grid">
                <!-- 舞蹈1：汉族秧歌 -->
                <div class="dance-item">
                    <!-- 待替换图片：秧歌舞 -->
                    <img src="images/yangge.jpg" alt="秧歌舞">
                    <div class="dance-overlay">
                        <h3>秧歌舞</h3>
                        <p>汉族民间舞蹈，源于农耕文化，动作欢快热烈，表达丰收喜悦。</p>
                    </div>
                </div>
                
                <!-- 舞蹈2：藏族锅庄舞 -->
                <div class="dance-item">
                    <!-- 待替换图片：锅庄舞 -->
                    <img src="images/guozhuang.jpg" alt="锅庄舞">
                    <div class="dance-overlay">
                        <h3>锅庄舞</h3>
                        <p>藏族传统集体舞蹈，参与者手拉手围成圆圈，边舞边唱，热情奔放。</p>
                    </div>
                </div>
                
                <!-- 舞蹈3：蒙古族筷子舞 -->
                <div class="dance-item">
                    <!-- 待替换图片：筷子舞 -->
                    <img src="images/chopstick-dance.jpg" alt="筷子舞">
                    <div class="dance-overlay">
                        <h3>筷子舞</h3>
                        <p>蒙古族特色舞蹈，舞者手持筷子敲击节奏，展现草原民族欢快活泼的性格。</p>
                    </div>
                </div>
                
                <!-- 舞蹈4：傣族孔雀舞 -->
                <div class="dance-item">
                    <!-- 待替换图片：孔雀舞 -->
                    <img src="images/peacock-dance.jpg" alt="孔雀舞">
                    <div class="dance-overlay">
                        <h3>孔雀舞</h3>
                        <p>傣族传统舞蹈，模仿孔雀优美动作，舞姿轻盈婀娜，展现傣族人民对美好生活的向往。</p>
                    </div>
                </div>
                
                <!-- 舞蹈5：朝鲜族长鼓舞 -->
                <div class="dance-item">
                    <!-- 待替换图片：长鼓舞 -->
                    <img src="images/drum-dance.jpg" alt="长鼓舞">
                    <div class="dance-overlay">
                        <h3>长鼓舞</h3>
                        <p>朝鲜族传统舞蹈，舞者一边击鼓一边舞动，节奏明快，气氛热烈。</p>
                    </div>
                </div>
                
                <!-- 舞蹈6：维吾尔族达瓦孜 -->
                <div class="dance-item">
                    <!-- 待替换图片：达瓦孜 -->
                    <img src="images/dawazi.jpg" alt="达瓦孜">
                    <div class="dance-overlay">
                        <h3>达瓦孜</h3>
                        <p>维吾尔族传统表演艺术，集舞蹈与杂技于一体，展现民族勇敢无畏的精神。</p>
                    </div>
                </div>
            </div>
            </div>
        </section>
        
        <!-- 音乐交互播放器 - 使用JavaScript实现 -->
        <section class="music-player-section">
            <div class="container">
                <h2>传统音乐欣赏</h2>
                <p>聆听中国传统音乐，感受千年文化的韵律之美</p>
                
                <div class="music-player">
                    <div class="player-header">
                        <div class="music-info">
                            <h3 id="music-title">高山流水</h3>
                            <p id="music-artist">古琴演奏</p>
                        </div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress" id="progress"></div>
                        </div>
                        <div class="time-info">
                            <span id="current-time">0:00</span>
                            <span id="duration">4:30</span>
                        </div>
                    </div>
                    
                    <div class="player-controls">
                        <button class="control-btn" id="prev-btn">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="control-btn play-btn" id="play-btn">
                            <i class="fas fa-play" id="play-icon"></i>
                        </button>
                        <button class="control-btn" id="next-btn">
                            <i class="fas fa-step-forward"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- 页脚 -->
    <footer>
        <p>© 2025 中国传统民族文化 - 音乐舞蹈展示</p>
        <p>Web技术基础课程期末作业</p>
    </footer>


</body>
    <!-- JavaScript脚本 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
       /*      // 音乐播放器功能
            const playBtn = document.getElementById('play-btn');
            const playIcon = document.getElementById('play-icon');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const musicTitle = document.getElementById('music-title');
            const musicArtist = document.getElementById('music-artist');
            const progress = document.getElementById('progress');
            const progressBar = document.querySelector('.progress-bar');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            
            // 音乐列表
            const musicList = [
                { title: "高山流水", artist: "古琴演奏", duration: "4:30" },
                { title: "十面埋伏", artist: "琵琶演奏", duration: "3:50" },
                { title: "春江花月夜", artist: "古筝演奏", duration: "5:15" },
                { title: "二泉映月", artist: "二胡演奏", duration: "4:05" }
            ];
            
            // 当前播放的音乐索引
            let currentMusicIndex = 0;
            // 播放状态
            let isPlaying = false;
            // 模拟播放进度的计时器
            let progressTimer;
            
            // 更新音乐信息
            function updateMusicInfo(index) {
                musicTitle.textContent = musicList[index].title;
                musicArtist.textContent = musicList[index].artist;
                durationEl.textContent = musicList[index].duration;
                currentTimeEl.textContent = "0:00";
                progress.style.width = "0%";
            }
            
            // 播放按钮点击事件
            playBtn.addEventListener('click', function() {
                if (isPlaying) {
                    // 暂停播放
                    isPlaying = false;
                    playIcon.className = "fas fa-play";
                    clearInterval(progressTimer);
                } else {
                    // 开始播放
                    isPlaying = true;
                    playIcon.className = "fas fa-pause";
                    simulateProgress();
                }
            });
            
            // 上一首按钮点击事件
            prevBtn.addEventListener('click', function() {
                currentMusicIndex = (currentMusicIndex - 1 + musicList.length) % musicList.length;
                updateMusicInfo(currentMusicIndex);
                
                if (isPlaying) {
                    clearInterval(progressTimer);
                    simulateProgress();
                }
            });
            
            // 下一首按钮点击事件
            nextBtn.addEventListener('click', function() {
                currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
                updateMusicInfo(currentMusicIndex);
                
                if (isPlaying) {
                    clearInterval(progressTimer);
                    simulateProgress();
                }
            });
            
            // 点击进度条跳转
            progressBar.addEventListener('click', function(e) {
                const progressBarWidth = this.clientWidth;
                const clickPosition = e.offsetX;
                const progressPercent = (clickPosition / progressBarWidth) * 100;
                
                progress.style.width = progressPercent + '%';
                
                // 更新显示的时间
                const duration = parseDuration(musicList[currentMusicIndex].duration);
                const currentTime = Math.floor((progressPercent / 100) * duration);
                currentTimeEl.textContent = formatTime(currentTime);
            });
            
            // 模拟播放进度
            function simulateProgress() {
                const duration = parseDuration(musicList[currentMusicIndex].duration);
                let currentTime = 0;
                let percent = 0;
                
                progressTimer = setInterval(function() {
                    currentTime++;
                    percent = (currentTime / duration) * 100;
                    
                    progress.style.width = percent + '%';
                    currentTimeEl.textContent = formatTime(currentTime);
                    
                    if (currentTime >= duration) {
                        clearInterval(progressTimer);
                        nextBtn.click();
                    }
                }, 1000);
            }
            
            // 将时间格式化为 分:秒
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' + secs : secs}`;
            }
            
            // 解析持续时间字符串为秒数
            function parseDuration(durationStr) {
                const parts = durationStr.split(':');
                return parseInt(parts[0]) * 60 + parseInt(parts[1]);
            }
            
            初始化第一首音乐信息
            updateMusicInfo(currentMusicIndex); */


                // 获取DOM元素
                const playBtn = document.getElementById('play-btn');
                const playIcon = document.getElementById('play-icon');
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                const musicTitle = document.getElementById('music-title');
                const musicArtist = document.getElementById('music-artist');
                const progressBar = document.querySelector('.progress-bar');
                const progress = document.getElementById('progress');
                const currentTimeEl = document.getElementById('current-time');
                const durationEl = document.getElementById('duration');

                // 音乐列表（路径需对应实际音频文件）
                const musicList = [
                    { title: "高山流水", artist: "古琴演奏", file: "高山流水.mp3", duration: "4:30" },
                    { title: "十面埋伏", artist: "琵琶演奏", file: "十面埋伏.mp3", duration: "3:50" },
                    { title: "春江花月夜", artist: "古筝演奏", file: "春江花月夜.mp3", duration: "5:15" },
                    { title: "二泉映月", artist: "二胡演奏", file: "二泉映月.mp3", duration: "4:05" }
                ];

                let currentMusicIndex = 0;
                let isPlaying = false;
                let audio = new Audio();  // 创建音频对象

                // 更新音乐信息并加载音频
                function updateMusicInfo(index) {
                    const music = musicList[index];
                    musicTitle.textContent = music.title;
                    musicArtist.textContent = music.artist;
                    durationEl.textContent = music.duration;
                    currentTimeEl.textContent = "0:00";
                    progress.style.width = "0%";

                    // 设置音频源
                    audio.src = `audio/${music.file}`;

                    // 等待元数据加载完成后更新时长
                    audio.onloadedmetadata = function () {
                        durationEl.textContent = formatTime(audio.duration);
                    };
                }

                // 播放或暂停音乐
                function togglePlay() {
                    if (isPlaying) {
                        audio.pause();
                        playIcon.classList.remove('fa-pause');
                        playIcon.classList.add('fa-play');
                    } else {
                        audio.play().catch(e => console.log("播放失败:", e));
                        playIcon.classList.remove('fa-play');
                        playIcon.classList.add('fa-pause');
                    }
                    isPlaying = !isPlaying;
                }

                // 上一首
                function prevMusic() {
                    currentMusicIndex = (currentMusicIndex - 1 + musicList.length) % musicList.length;
                    updateMusicInfo(currentMusicIndex);
                    if (isPlaying) audio.play();
                }

                // 下一首
                function nextMusic() {
                    currentMusicIndex = (currentMusicIndex + 1) % musicList.length;
                    updateMusicInfo(currentMusicIndex);
                    if (isPlaying) audio.play();
                }

                // 更新进度条
                function updateProgress(e) {
                    const { duration, currentTime } = e.target;
                    const percent = (currentTime / duration) * 100;
                    progress.style.width = percent + '%';
                    currentTimeEl.textContent = formatTime(currentTime);
                }

                // 格式化时间（秒 -> 分:秒）
                function formatTime(seconds) {
                    const mins = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                }

                // 点击进度条跳转
                function setProgress(e) {
                    const width = this.clientWidth;
                    const clickX = e.offsetX;
                    const duration = audio.duration;
                    audio.currentTime = (clickX / width) * duration;
                }

                // 绑定事件监听器
                playBtn.addEventListener('click', togglePlay);
                prevBtn.addEventListener('click', prevMusic);
                nextBtn.addEventListener('click', nextMusic);
                audio.addEventListener('timeupdate', updateProgress);
                progressBar.addEventListener('click', setProgress);
                audio.addEventListener('ended', nextMusic); // 自动下一首

                // 初始化第一首音乐
                updateMusicInfo(currentMusicIndex);


            // 乐器声音按钮点击事件
            const soundBtns = document.querySelectorAll('.sound-btn');
            soundBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // const instrument = this.getAttribute('data-sound');
                    // 在实际项目中，这里会播放声音文件
                    // 由于这是演示，我们使用alert提示
                    // alert(`正在播放${instrument}的声音...（实际项目中这里会播放真实声音）`);
   
                    // const instrument = this.dataset.sound; // 获取 data-sound 值
                    const instrument = this.getAttribute('data-sound');
                    // const audio = document.querySelector(`[data-sound="${instrument}"]`);  //不能明确获取到音频
                    const audio = document.querySelector(`audio[data-sound="${instrument}"]`);
                    console.log(audio);
                    if (audio) {
                        if (audio.paused) {
                            audio.play(); // 播放音频
                            this.querySelector('i').classList.remove('fa-play');
                            this.querySelector('i').classList.add('fa-pause');
                        } else {
                            audio.pause(); // 暂停音频
                            this.querySelector('i').classList.remove('fa-pause');
                            this.querySelector('i').classList.add('fa-play');
                        }

                        // 播放结束后恢复图标
                        audio.addEventListener('ended', () => {
                            this.querySelector('i').classList.remove('fa-pause');
                            this.querySelector('i').classList.add('fa-play');
                        });
                    }

                    // // 更改按钮图标
                    // const icon = this.querySelector('i');
                    // icon.className = "fas fa-stop";
                    
                    // // 2秒后恢复图标
                    // setTimeout(() => {
                    //     icon.className = "fas fa-play";
                    // }, 2000);
                });
            });
          
           
        });
    
/*     document.addEventListener('DOMContentLoaded', function () {
    const soundBtns = document.querySelectorAll('.sound-btn');

    soundBtns.forEach(btn => {
        btn.addEventListener('click', function () {
            // const instrument = this.dataset.sound; // 获取 data-sound 值
            const instrument = this.getAttribute('data-sound');

            // const audio = document.querySelector(`[data-sound="${instrument}"]`);  //不能明确获取到音频
            const audio = document.querySelector(`audio[data-sound="${instrument}"]`);
            console.log(audio);
            if (audio) {
                if (audio.paused) {
                    audio.play(); // 播放音频
                    this.querySelector('i').classList.remove('fa-play');
                    this.querySelector('i').classList.add('fa-pause');
                } else {
                    audio.pause(); // 暂停音频
                    this.querySelector('i').classList.remove('fa-pause');
                    this.querySelector('i').classList.add('fa-play');
                }

                // 播放结束后恢复图标
                audio.addEventListener('ended', () => {
                    this.querySelector('i').classList.remove('fa-pause');
                    this.querySelector('i').classList.add('fa-play');
                });
            }
        
        });
    });
});
     */

    </script>
    
</html> 